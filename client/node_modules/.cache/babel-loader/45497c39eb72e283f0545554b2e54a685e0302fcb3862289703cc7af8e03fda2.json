{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gabri\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\sotckflow 2\\\\Stockflow\\\\client\\\\src\\\\components\\\\estoque\\\\modal\\\\FormEditSale.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { saleFetch } from \"../../../api/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FormEditSale = ({\n  setModalEdit,\n  modalEdit,\n  idSale\n}) => {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [payWay, setPayWay] = useState(null);\n  const [payWays, setPayWays] = useState([]);\n  const [price, setPrice] = useState(0);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Carregar os meios de pagamento\n        const payWaysResponse = await saleFetch.get(\"/payWays\");\n        const payWaysData = payWaysResponse.data;\n        setPayWays(payWaysData);\n\n        // Carregar os dados da venda\n        const saleResponse = await saleFetch.get(`/sales/${idSale}`);\n        const saleData = saleResponse.data;\n        setName(saleData.name);\n        setDate(saleData.date);\n        setPrice(saleData.price);\n\n        // Encontrar o meio de pagamento da venda\n        const selectedPayWay = payWaysData.find(pay => pay.id === saleData.payWay);\n        setPayWay(selectedPayWay || null);\n      } catch (error) {\n        console.log(`Error: ${error}`);\n      }\n    };\n    fetchData();\n  }, [idSale]);\n  const handlePayWayChange = id => {\n    const selectedPayWay = payWays.find(pay => pay.id === id) || null;\n    setPayWay(selectedPayWay);\n  };\n  const editSale = async e => {\n    e.preventDefault();\n    const saleData = {\n      name,\n      date,\n      payWay: payWay === null || payWay === void 0 ? void 0 : payWay.id,\n      price\n    };\n    try {\n      await saleFetch.put(`/sales/${idSale}`, saleData);\n      setModalEdit(!modalEdit);\n    } catch (error) {\n      console.error(`Erro ao editar venda: ${error}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"form\",\n    onSubmit: editSale,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerInputs\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerInput\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Nome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          id: \"name\",\n          value: name || \"\",\n          onChange: e => setName(e.target.value),\n          required: true,\n          placeholder: \"Insira o nome do produto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerInput\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"date\",\n          children: \"Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"date\",\n          id: \"date\",\n          value: date || \"\",\n          onChange: e => setDate(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerInput\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"pay\",\n          children: \"Meio de Pagamento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"pay\",\n          id: \"pay\",\n          value: (payWay === null || payWay === void 0 ? void 0 : payWay.id) || \"\",\n          onChange: e => handlePayWayChange(e.target.value),\n          required: true,\n          children: payWays.map(pay => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: pay.id,\n            children: pay.name\n          }, pay.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerInput\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"price\",\n          children: \"Valor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"price\",\n          id: \"price\",\n          value: price || 0,\n          onChange: e => setPrice(e.target.valueAsNumber),\n          required: true,\n          placeholder: \"Insira o valor em dinheiro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn\",\n      children: \"Editar Venda!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(FormEditSale, \"5sPLwqD/SDpHCKDbYE1fUhSCHWU=\");\n_c = FormEditSale;\nvar _c;\n$RefreshReg$(_c, \"FormEditSale\");","map":{"version":3,"names":["useEffect","useState","saleFetch","jsxDEV","_jsxDEV","FormEditSale","setModalEdit","modalEdit","idSale","_s","name","setName","date","setDate","payWay","setPayWay","payWays","setPayWays","price","setPrice","fetchData","payWaysResponse","get","payWaysData","data","saleResponse","saleData","selectedPayWay","find","pay","id","error","console","log","handlePayWayChange","editSale","e","preventDefault","put","className","onSubmit","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","required","placeholder","map","valueAsNumber","_c","$RefreshReg$"],"sources":["C:/Users/gabri/OneDrive/Área de Trabalho/sotckflow 2/Stockflow/client/src/components/estoque/modal/FormEditSale.tsx"],"sourcesContent":["import { FormEvent, useEffect, useState } from \"react\";\r\nimport { PayWays } from \"../../../types/PayWays\";\r\nimport { saleFetch } from \"../../../api/config\";\r\nimport { ModalEdit } from \"../../../types/ModalEdit\";\r\n\r\nexport const FormEditSale = ({\r\n  setModalEdit,\r\n  modalEdit,\r\n  idSale,\r\n}: ModalEdit) => {\r\n  const [name, setName] = useState<string>(\"\");\r\n  const [date, setDate] = useState<string>(\"\");\r\n  const [payWay, setPayWay] = useState<PayWays | null>(null);\r\n  const [payWays, setPayWays] = useState<PayWays[]>([]);\r\n  const [price, setPrice] = useState<number>(0);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        // Carregar os meios de pagamento\r\n        const payWaysResponse = await saleFetch.get(\"/payWays\");\r\n        const payWaysData: PayWays[] = payWaysResponse.data;\r\n        setPayWays(payWaysData);\r\n\r\n        // Carregar os dados da venda\r\n        const saleResponse = await saleFetch.get(`/sales/${idSale}`);\r\n        const saleData = saleResponse.data;\r\n\r\n        setName(saleData.name);\r\n        setDate(saleData.date);\r\n        setPrice(saleData.price);\r\n\r\n        // Encontrar o meio de pagamento da venda\r\n        const selectedPayWay = payWaysData.find((pay) => pay.id === saleData.payWay);\r\n        setPayWay(selectedPayWay || null);\r\n      } catch (error) {\r\n        console.log(`Error: ${error}`);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [idSale]);\r\n\r\n  const handlePayWayChange = (id: string) => {\r\n    const selectedPayWay = payWays.find((pay) => pay.id === id) || null;\r\n    setPayWay(selectedPayWay);\r\n  };\r\n\r\n  const editSale = async (e: FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    const saleData: object = {\r\n      name,\r\n      date,\r\n      payWay: payWay?.id,\r\n      price,\r\n    };\r\n\r\n    try {\r\n      await saleFetch.put(`/sales/${idSale}`, saleData);\r\n\r\n      setModalEdit(!modalEdit);\r\n    } catch (error) {\r\n      console.error(`Erro ao editar venda: ${error}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"form\" onSubmit={editSale}>\r\n      <div className=\"containerInputs\">\r\n        <div className=\"containerInput\">\r\n          <label htmlFor=\"name\">Nome</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            value={name || \"\"}\r\n            onChange={(e) => setName(e.target.value)}\r\n            required\r\n            placeholder=\"Insira o nome do produto\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"containerInput\">\r\n          <label htmlFor=\"date\">Data</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"date\"\r\n            id=\"date\"\r\n            value={date || \"\"}\r\n            onChange={(e) => setDate(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"containerInput\">\r\n          <label htmlFor=\"pay\">Meio de Pagamento</label>\r\n\r\n          <select\r\n            name=\"pay\"\r\n            id=\"pay\"\r\n            value={payWay?.id || \"\"}\r\n            onChange={(e) => handlePayWayChange(e.target.value)}\r\n            required\r\n          >\r\n            {payWays.map((pay) => (\r\n              <option key={pay.id} value={pay.id}>\r\n                {pay.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"containerInput\">\r\n          <label htmlFor=\"price\">Valor</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"price\"\r\n            id=\"price\"\r\n            value={price || 0}\r\n            onChange={(e) => setPrice(e.target.valueAsNumber)}\r\n            required\r\n            placeholder=\"Insira o valor em dinheiro\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <button type=\"submit\" className=\"btn\">\r\n        Editar Venda!\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}